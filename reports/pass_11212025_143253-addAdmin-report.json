{
  "stats": {
    "suites": 10,
    "tests": 17,
    "passes": 17,
    "pending": 0,
    "failures": 0,
    "start": "2025-11-21T09:02:20.769Z",
    "end": "2025-11-21T09:02:53.318Z",
    "duration": 32549,
    "testsRegistered": 17,
    "passPercent": 100,
    "pendingPercent": 0,
    "other": 0,
    "hasOther": false,
    "skipped": 0,
    "hasSkipped": false
  },
  "results": [
    {
      "uuid": "a6052e53-034a-49a6-9d7b-67188106351d",
      "title": "",
      "fullFile": "cypress/e2e/admin/addAdmin.cy.js",
      "file": "cypress/e2e/admin/addAdmin.cy.js",
      "beforeHooks": [],
      "afterHooks": [],
      "tests": [],
      "suites": [
        {
          "uuid": "4888bf44-88c9-4548-9c4f-36aeba30d571",
          "title": "Add Admin Form Tests",
          "fullFile": "",
          "file": "",
          "beforeHooks": [],
          "afterHooks": [],
          "tests": [],
          "suites": [
            {
              "uuid": "d5dc5a48-4745-4cea-af5f-ce3a657756ef",
              "title": "Form Display",
              "fullFile": "",
              "file": "",
              "beforeHooks": [],
              "afterHooks": [],
              "tests": [
                {
                  "title": "should display add admin form with all fields",
                  "fullTitle": "Add Admin Form Tests Form Display should display add admin form with all fields",
                  "timedOut": null,
                  "duration": 2733,
                  "state": "passed",
                  "speed": "fast",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "addAdminPage.verifyAddFormElements();",
                  "err": {},
                  "uuid": "44a33daa-2f50-49a8-ba65-1d404fa695e0",
                  "parentUUID": "d5dc5a48-4745-4cea-af5f-ce3a657756ef",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [
                "44a33daa-2f50-49a8-ba65-1d404fa695e0"
              ],
              "failures": [],
              "pending": [],
              "skipped": [],
              "duration": 2733,
              "root": false,
              "rootEmpty": false,
              "_timeout": 2000
            },
            {
              "uuid": "7a1859ef-bbcc-4bac-aec7-5ddff3ed4632",
              "title": "Form Validation",
              "fullFile": "",
              "file": "",
              "beforeHooks": [],
              "afterHooks": [],
              "tests": [
                {
                  "title": "should show validation errors for empty required fields",
                  "fullTitle": "Add Admin Form Tests Form Validation should show validation errors for empty required fields",
                  "timedOut": null,
                  "duration": 1096,
                  "state": "passed",
                  "speed": "fast",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "// Submit empty form\naddAdminPage.submitForm();\n// Wait for validation\ncy.wait(500);\n// Should stay on form page\naddAdminPage.verifyUrl('/addAdmin');\n// Check for validation errors (depends on your validation implementation)\ncy.get('body').then($body => {\n  const errorElements = $body.find('.text-red-500');\n  // If you have validation messages, they should appear\n  if (errorElements.length > 0) {\n    expect(errorElements.length).to.be.gt(0);\n  }\n});",
                  "err": {},
                  "uuid": "1fba6bfa-38f2-45d9-a4c9-5225f90ac5ad",
                  "parentUUID": "7a1859ef-bbcc-4bac-aec7-5ddff3ed4632",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should validate email format",
                  "fullTitle": "Add Admin Form Tests Form Validation should validate email format",
                  "timedOut": null,
                  "duration": 2947,
                  "state": "passed",
                  "speed": "fast",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "const invalidAdmin = _adminDataGenerators.default.generateInvalidAdmin('email');\naddAdminPage.fillAdminForm(invalidAdmin);\naddAdminPage.submitForm();\ncy.wait(500);\n// Should stay on form due to validation\naddAdminPage.verifyUrl('/addAdmin');",
                  "err": {},
                  "uuid": "13466414-96b5-4d0b-be78-3e1f254497ec",
                  "parentUUID": "7a1859ef-bbcc-4bac-aec7-5ddff3ed4632",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should validate password length",
                  "fullTitle": "Add Admin Form Tests Form Validation should validate password length",
                  "timedOut": null,
                  "duration": 3129,
                  "state": "passed",
                  "speed": "fast",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "const invalidAdmin = _adminDataGenerators.default.generateInvalidAdmin('shortPassword');\naddAdminPage.fillAdminForm(invalidAdmin);\naddAdminPage.submitForm();\ncy.wait(500);\n// Should stay on form\naddAdminPage.verifyUrl('/addAdmin');",
                  "err": {},
                  "uuid": "4bc036af-e951-4e80-9eb9-8665ff5a7e0a",
                  "parentUUID": "7a1859ef-bbcc-4bac-aec7-5ddff3ed4632",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should clear errors when user starts typing",
                  "fullTitle": "Add Admin Form Tests Form Validation should clear errors when user starts typing",
                  "timedOut": null,
                  "duration": 1360,
                  "state": "passed",
                  "speed": "fast",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "// Submit to trigger errors\naddAdminPage.submitForm();\ncy.wait(500);\n// Type in username field\naddAdminPage.typeInField('username', 'test');\n// Wait a bit for error to clear\ncy.wait(200);\n// Error for username should be cleared (depends on implementation)\ncy.get('body').then($body => {\n  const usernameError = $body.find('.text-red-500:contains(\"Username is required\")');\n  // If your form clears errors on input, this should be 0\n  expect(usernameError.length).to.equal(0);\n});",
                  "err": {},
                  "uuid": "c270380d-1749-4c23-bf69-13e7728b5fd1",
                  "parentUUID": "7a1859ef-bbcc-4bac-aec7-5ddff3ed4632",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [
                "1fba6bfa-38f2-45d9-a4c9-5225f90ac5ad",
                "13466414-96b5-4d0b-be78-3e1f254497ec",
                "4bc036af-e951-4e80-9eb9-8665ff5a7e0a",
                "c270380d-1749-4c23-bf69-13e7728b5fd1"
              ],
              "failures": [],
              "pending": [],
              "skipped": [],
              "duration": 8532,
              "root": false,
              "rootEmpty": false,
              "_timeout": 2000
            },
            {
              "uuid": "5ba09755-8787-44f4-ae99-c736df853595",
              "title": "Form Submission",
              "fullFile": "",
              "file": "",
              "beforeHooks": [],
              "afterHooks": [],
              "tests": [
                {
                  "title": "should submit successfully with valid data",
                  "fullTitle": "Add Admin Form Tests Form Submission should submit successfully with valid data",
                  "timedOut": null,
                  "duration": 2582,
                  "state": "passed",
                  "speed": "fast",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "const newAdmin = _adminDataGenerators.default.generateFormData();\n// Setup authentication BEFORE visiting the page\ncy.window().then(win => {\n  win.localStorage.setItem('adminToken', 'mock-valid-token-for-testing');\n  win.localStorage.setItem('adminUser', JSON.stringify({\n    id: 'mock-admin-id',\n    username: 'testadmin',\n    role: 'admin'\n  }));\n});\n_adminApiHelpers.default.mockCreateAdmin({\n  message: 'Admin added successfully',\n  data: {\n    _id: '123'\n  }\n});\n// Mock the dashboard API call that happens after redirect\ncy.intercept('GET', '**/api/admin**', {\n  statusCode: 200,\n  body: {\n    message: 'Success',\n    data: []\n  }\n}).as('getAdmins');\naddAdminPage.fillAdminForm(newAdmin);\naddAdminPage.submitForm();\n_adminApiHelpers.default.waitForApi('createAdmin');\ncy.wait('@getAdmins');\n// Handle both success and session expiry scenarios\n// Verify success alert\ncy.on('window:alert', text => {\n  expect(text).to.equal('Admin added successfully!');\n});\n// Verify navigation to dashboard\ncy.url().should('include', '/adminDashboard');",
                  "err": {},
                  "uuid": "705274e9-ea19-416b-b232-2e8fe24da5ea",
                  "parentUUID": "5ba09755-8787-44f4-ae99-c736df853595",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should handle API validation errors",
                  "fullTitle": "Add Admin Form Tests Form Submission should handle API validation errors",
                  "timedOut": null,
                  "duration": 2492,
                  "state": "passed",
                  "speed": "fast",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "const admin = _adminDataGenerators.default.generateFormData();\n_adminApiHelpers.default.mockValidationError('POST', 'admin');\naddAdminPage.fillAdminForm(admin);\naddAdminPage.submitForm();\n_adminApiHelpers.default.waitForApi('validationError');\n// Should stay on form\naddAdminPage.verifyUrl('/addAdmin');",
                  "err": {},
                  "uuid": "267e4374-9959-4a88-bda4-5c1fa754ae0b",
                  "parentUUID": "5ba09755-8787-44f4-ae99-c736df853595",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should handle network errors during submission",
                  "fullTitle": "Add Admin Form Tests Form Submission should handle network errors during submission",
                  "timedOut": null,
                  "duration": 2492,
                  "state": "passed",
                  "speed": "fast",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "const admin = _adminDataGenerators.default.generateFormData();\n_adminApiHelpers.default.mockNetworkError('POST', 'admin', 'networkError');\naddAdminPage.fillAdminForm(admin);\naddAdminPage.submitForm();\n_adminApiHelpers.default.waitForApi('networkError');\n// Should stay on form\naddAdminPage.verifyUrl('/addAdmin');",
                  "err": {},
                  "uuid": "5669c73e-07a4-41ca-94cf-02e0288dab26",
                  "parentUUID": "5ba09755-8787-44f4-ae99-c736df853595",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [
                "705274e9-ea19-416b-b232-2e8fe24da5ea",
                "267e4374-9959-4a88-bda4-5c1fa754ae0b",
                "5669c73e-07a4-41ca-94cf-02e0288dab26"
              ],
              "failures": [],
              "pending": [],
              "skipped": [],
              "duration": 7566,
              "root": false,
              "rootEmpty": false,
              "_timeout": 2000
            },
            {
              "uuid": "3c498e56-c22a-4723-9bd8-5a2ca322ab3c",
              "title": "Form Navigation",
              "fullFile": "",
              "file": "",
              "beforeHooks": [],
              "afterHooks": [],
              "tests": [
                {
                  "title": "should cancel and navigate back",
                  "fullTitle": "Add Admin Form Tests Form Navigation should cancel and navigate back",
                  "timedOut": null,
                  "duration": 1004,
                  "state": "passed",
                  "speed": "fast",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "addAdminPage.clickCancel();\ncy.wait(500);\ncy.url().should('not.include', '/addAdmin');",
                  "err": {},
                  "uuid": "d17c73cb-d102-487a-be3e-8ca3b70de9ac",
                  "parentUUID": "3c498e56-c22a-4723-9bd8-5a2ca322ab3c",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should close form using X button",
                  "fullTitle": "Add Admin Form Tests Form Navigation should close form using X button",
                  "timedOut": null,
                  "duration": 1036,
                  "state": "passed",
                  "speed": "fast",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "// If close button exists\ncy.get('body').then($body => {\n  if ($body.find('button:contains(\"Ã—\")').length > 0) {\n    addAdminPage.clickClose();\n    cy.wait(500);\n    cy.url().should('not.include', '/addAdmin');\n  }\n});",
                  "err": {},
                  "uuid": "75b83dd8-b187-4ece-a082-1f8a752c773a",
                  "parentUUID": "3c498e56-c22a-4723-9bd8-5a2ca322ab3c",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [
                "d17c73cb-d102-487a-be3e-8ca3b70de9ac",
                "75b83dd8-b187-4ece-a082-1f8a752c773a"
              ],
              "failures": [],
              "pending": [],
              "skipped": [],
              "duration": 2040,
              "root": false,
              "rootEmpty": false,
              "_timeout": 2000
            },
            {
              "uuid": "7419f2d4-7108-4575-95bb-47b235e8a629",
              "title": "Role Selection",
              "fullFile": "",
              "file": "",
              "beforeHooks": [],
              "afterHooks": [],
              "tests": [
                {
                  "title": "should allow selecting admin role",
                  "fullTitle": "Add Admin Form Tests Role Selection should allow selecting admin role",
                  "timedOut": null,
                  "duration": 2483,
                  "state": "passed",
                  "speed": "fast",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "const admin = _adminDataGenerators.default.generateFormData();\nadmin.role = 'admin';\naddAdminPage.fillAdminForm(admin);\naddAdminPage.verifyFieldValue('role', 'admin');",
                  "err": {},
                  "uuid": "b53be4f2-4ec8-4959-97ce-69c325f74332",
                  "parentUUID": "7419f2d4-7108-4575-95bb-47b235e8a629",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should allow selecting superadmin role",
                  "fullTitle": "Add Admin Form Tests Role Selection should allow selecting superadmin role",
                  "timedOut": null,
                  "duration": 2556,
                  "state": "passed",
                  "speed": "fast",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "const admin = _adminDataGenerators.default.generateFormData();\nadmin.role = 'superadmin';\naddAdminPage.fillAdminForm(admin);\naddAdminPage.verifyFieldValue('role', 'superadmin');",
                  "err": {},
                  "uuid": "2d9bcab3-ed97-451f-8809-baeeb6850a9b",
                  "parentUUID": "7419f2d4-7108-4575-95bb-47b235e8a629",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [
                "b53be4f2-4ec8-4959-97ce-69c325f74332",
                "2d9bcab3-ed97-451f-8809-baeeb6850a9b"
              ],
              "failures": [],
              "pending": [],
              "skipped": [],
              "duration": 5039,
              "root": false,
              "rootEmpty": false,
              "_timeout": 2000
            }
          ],
          "passes": [],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 0,
          "root": false,
          "rootEmpty": false,
          "_timeout": 2000
        },
        {
          "uuid": "ccaba44c-4625-466c-81a9-b49b764c2907",
          "title": "Edit Admin Tests",
          "fullFile": "",
          "file": "",
          "beforeHooks": [],
          "afterHooks": [],
          "tests": [],
          "suites": [
            {
              "uuid": "4d69b3b2-b01a-4224-9465-e8f15685e686",
              "title": "Edit Form Display",
              "fullFile": "",
              "file": "",
              "beforeHooks": [],
              "afterHooks": [],
              "tests": [
                {
                  "title": "should display edit form with existing data",
                  "fullTitle": "Edit Admin Tests Edit Form Display should display edit form with existing data",
                  "timedOut": null,
                  "duration": 731,
                  "state": "passed",
                  "speed": "fast",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "addAdminPage.verifyEditFormElements();\n// Verify form is populated\naddAdminPage.verifyFieldValue('username', adminData.username);\naddAdminPage.verifyFieldValue('email', adminData.email);\naddAdminPage.verifyFieldValue('phone', adminData.phone);\naddAdminPage.verifyFieldValue('nic', adminData.nic);\naddAdminPage.verifyFieldValue('role', adminData.role);",
                  "err": {},
                  "uuid": "97abffd0-0e87-49e9-b448-485ed284c351",
                  "parentUUID": "4d69b3b2-b01a-4224-9465-e8f15685e686",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [
                "97abffd0-0e87-49e9-b448-485ed284c351"
              ],
              "failures": [],
              "pending": [],
              "skipped": [],
              "duration": 731,
              "root": false,
              "rootEmpty": false,
              "_timeout": 2000
            },
            {
              "uuid": "30560f5c-583f-443d-b889-ce17f8b9d711",
              "title": "Edit Form Update",
              "fullFile": "",
              "file": "",
              "beforeHooks": [],
              "afterHooks": [],
              "tests": [
                {
                  "title": "should update admin data successfully",
                  "fullTitle": "Edit Admin Tests Edit Form Update should update admin data successfully",
                  "timedOut": null,
                  "duration": 1213,
                  "state": "passed",
                  "speed": "fast",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "const updatedData = {\n  username: 'updatedadmin'\n};\n_adminApiHelpers.default.mockUpdateAdmin(adminId, {\n  message: 'Admin updated successfully',\n  data: _objectSpread(_objectSpread({}, adminData), updatedData)\n});\naddAdminPage.fillField('username', updatedData.username);\naddAdminPage.submitForm();\n_adminApiHelpers.default.waitForApi('updateAdmin');\n// Should navigate to dashboard\ncy.url().should('include', '/adminDashboard');",
                  "err": {},
                  "uuid": "59cb9561-9164-44c3-93ed-f7b14ad9c5d0",
                  "parentUUID": "30560f5c-583f-443d-b889-ce17f8b9d711",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should handle update errors",
                  "fullTitle": "Edit Admin Tests Edit Form Update should handle update errors",
                  "timedOut": null,
                  "duration": 1103,
                  "state": "passed",
                  "speed": "fast",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "_adminApiHelpers.default.mockServerError('PUT', `admin/${adminId}`, 'updateError');\naddAdminPage.fillField('username', 'newname');\naddAdminPage.submitForm();\n_adminApiHelpers.default.waitForApi('updateError');\n// Should stay on form\naddAdminPage.verifyUrl(`/addAdmin/${adminId}`);",
                  "err": {},
                  "uuid": "ef9c4bff-1975-462c-adab-2b21adb08341",
                  "parentUUID": "30560f5c-583f-443d-b889-ce17f8b9d711",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [
                "59cb9561-9164-44c3-93ed-f7b14ad9c5d0",
                "ef9c4bff-1975-462c-adab-2b21adb08341"
              ],
              "failures": [],
              "pending": [],
              "skipped": [],
              "duration": 2316,
              "root": false,
              "rootEmpty": false,
              "_timeout": 2000
            },
            {
              "uuid": "1f5fe97e-2196-427b-a715-ad10e373f2f6",
              "title": "Edit Form Navigation",
              "fullFile": "",
              "file": "",
              "beforeHooks": [],
              "afterHooks": [],
              "tests": [
                {
                  "title": "should cancel editing and navigate back",
                  "fullTitle": "Edit Admin Tests Edit Form Navigation should cancel editing and navigate back",
                  "timedOut": null,
                  "duration": 1162,
                  "state": "passed",
                  "speed": "fast",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "addAdminPage.clickCancel();\ncy.wait(500);\ncy.url().should('not.include', '/addAdmin');",
                  "err": {},
                  "uuid": "fa7173de-0b00-4a61-aebc-4c6137626fa9",
                  "parentUUID": "1f5fe97e-2196-427b-a715-ad10e373f2f6",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "should preserve form data when canceling",
                  "fullTitle": "Edit Admin Tests Edit Form Navigation should preserve form data when canceling",
                  "timedOut": null,
                  "duration": 1482,
                  "state": "passed",
                  "speed": "fast",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "// Modify field\naddAdminPage.fillField('username', 'modified');\n// Cancel\naddAdminPage.clickCancel();\n// Should navigate away without saving\ncy.wait(500);\ncy.url().should('not.include', '/addAdmin');",
                  "err": {},
                  "uuid": "446f35e1-2930-43f2-b24c-f60e5db07d73",
                  "parentUUID": "1f5fe97e-2196-427b-a715-ad10e373f2f6",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [
                "fa7173de-0b00-4a61-aebc-4c6137626fa9",
                "446f35e1-2930-43f2-b24c-f60e5db07d73"
              ],
              "failures": [],
              "pending": [],
              "skipped": [],
              "duration": 2644,
              "root": false,
              "rootEmpty": false,
              "_timeout": 2000
            }
          ],
          "passes": [],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 0,
          "root": false,
          "rootEmpty": false,
          "_timeout": 2000
        }
      ],
      "passes": [],
      "failures": [],
      "pending": [],
      "skipped": [],
      "duration": 0,
      "root": true,
      "rootEmpty": true,
      "_timeout": 2000
    }
  ],
  "meta": {
    "mocha": {
      "version": "7.2.0"
    },
    "mochawesome": {
      "options": {
        "quiet": false,
        "reportFilename": "[status]_[datetime]-[name]-report",
        "saveHtml": true,
        "saveJson": true,
        "consoleReporter": "spec",
        "useInlineDiffs": false,
        "code": true
      },
      "version": "7.1.4"
    },
    "marge": {
      "options": {
        "reportDir": "cypress/reports",
        "overwrite": false,
        "html": true,
        "json": true,
        "timestamp": "mmddyyyy_HHMMss",
        "screenshots": true,
        "embeddedScreenshots": true,
        "inlineAssets": true,
        "saveJson": true,
        "saveHtml": true,
        "reportFilename": "[status]_[datetime]-[name]-report",
        "charts": true
      },
      "version": "6.3.2"
    }
  }
}